<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-title" content="CodePen">
    <title>CodePen - HTML5 Device Motion Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript">
    </script>
    <style>
        table {
            border-collapse: collapse;
            margin: 0 auto;
            text-align: left;
            font: normal 1em sans-serif;
        }

        th,
        td {
            border: 1px solid gray;
        }

        td {
            font-family: monospace;
        }
    </style>
    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>


</head>

<body translate="no">
    <table>
        <caption>HTML5 Device Motion Test</caption>
        <thead>
            <tr>
                <th></th>
                <th>Acceleration</th>
                <th>Acceleration including gravity</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>X</th>
                <td id="ax">n/a</td>
                <td id="agx">n/a</td>
            </tr>
            <tr>
                <th>Y</th>
                <td id="ay">n/a</td>
                <td id="agy">n/a</td>
            </tr>
            <tr>
                <th>Z</th>
                <td id="az">n/a</td>
                <td id="agz">n/a</td>
            </tr>
        </tbody>
    </table>
    <script id="rendered-js">
        (function (window, document, undefined) {
            "use strict";
            console.log('test');
            var elax = document.getElementById("ax"),
                elay = document.getElementById("ay"),
                elaz = document.getElementById("az"),
                elagx = document.getElementById("agx"),
                elagy = document.getElementById("agy"),
                elagz = document.getElementById("agz"),
                sens = 0.05,
                dec = 2,
                a = null,
                ag = null;
            var mouseListener = function (event) {
                console.log('insied mou')
                if (null !== event.acceleration) {
                    a = event.acceleration;
                    elax.innerHTML = Math.abs((a.x * sens).toFixed(dec));
                    elay.innerHTML = Math.abs((a.y * sens).toFixed(dec));
                    elaz.innerHTML = Math.abs((a.z * sens).toFixed(dec));
                }

                /*
                  if(null !== event.accelerationIncludingGravity) {
                    ag = event.accelerationIncludingGravity;
                    elagx.innerHTML = (ag.x * sens).toFixed(dec);
                    elagy.innerHTML = (ag.y * sens).toFixed(dec);
                    elagz.innerHTML = (ag.z * sens).toFixed(dec);
                  }
                  */
            };

            window.addEventListener("devicemotion", mouseListener, false);
        })(window, document);
        //# sourceURL=pen.js
    </script>
</body>
</html>